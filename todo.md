# Amazon Ads Optimizer - TODO

## 核心功能

### 数据库与后端
- [x] 设计并实现数据库Schema（广告账号、广告活动、广告组、关键词、ASIN、绩效组等）
- [x] 实现广告数据CRUD API
- [x] 实现绩效组管理API
- [x] 实现竞价日志API
- [x] 实现优化设置API
- [x] 实现市场曲线建模算法

### 仪表盘与数据可视化
- [x] 监控仪表盘（核心KPI展示）
- [x] 趋势图表（转化、销售额、ACoS、ROAS）
- [x] 时间段对比分析
- [x] 绩效组概览卡片

### 绩效组管理
- [x] 创建/编辑/删除绩效组
- [x] 设置优化目标（目标ACoS、目标ROAS、每日花费上限、销售最大化）
- [x] 跨广告活动分组管理
- [x] 绩效组状态监控

### 竞价优化
- [x] 关键词出价优化（Broad/Phrase/Exact）
- [x] ASIN商品定位出价优化
- [x] 展示位置竞价调整（搜索顶部、商品详情页、其余位置）
- [x] 日内多次竞价（Intraday Bidding）
- [x] 市场曲线建模（出价-流量-转化关系）

### 竞价日志
- [x] 出价调整记录列表
- [x] 筛选和搜索功能
- [x] 调整原因说明
- [x] 导出日志功能

### 优化设置
- [x] 账号级别设置（转换值类型、转换值来源、日内竞价规则）
- [x] 广告活动级别设置（最高出价、继承配置）
- [x] 配置继承机制

### 数据导入
- [x] CSV/Excel文件上传
- [x] 亚马逊广告报告解析
- [x] 数据验证和错误处理
- [x] 批量导入进度显示

### 广告类型支持
- [x] Sponsored Products (SP) - 自动/手动广告
- [x] Sponsored Brands (SB) - 品牌推广
- [x] Sponsored Display (SD) - 展示型推广

## 视觉设计
- [x] 专业深色主题设计
- [x] 响应式布局
- [x] 数据图表样式优化

## 测试
- [x] 单元测试（竞价优化算法、路由结构、认证流程）
- [x] 示例数据生成脚本

## Amazon Advertising API 集成

### API研究
- [x] 研究Amazon Advertising API文档和权限要求
- [x] 了解API支持的广告类型和操作
- [x] 确定OAuth认证流程

### API集成开发
- [x] 实现Amazon API OAuth认证流程
- [x] 开发广告活动数据同步功能
- [x] 开发关键词和ASIN数据同步功能
- [x] 开发绩效报告数据同步功能
- [x] 实现自动出价调整API调用
- [x] 添加API调用日志和错误处理

### 测试和优化
- [x] 编写API集成单元测试
- [x] 测试数据同步准确性
- [x] 测试出价调整执行效果

## 广告自动化功能扩展（基于运营流程文档）

### P0 - 核心功能
- [x] N-Gram词根分析与批量降噪功能
- [x] 广告漏斗自动迁移系统（广泛→短语→精准）
- [x] 流量隔离与冲突检测系统
- [x] 智能竞价调整系统（爬坡、纠错、分时）

### P1 - 高优先级
- [x] 搜索词智能分类系统
- [x] 精准/短语匹配智能决策
- [x] 否词前置系统

### P2 - 中优先级
- [x] 半月纠错复盘系统
- [ ] 动态文案优化建议
- [ ] 广告活动健康度监控


## 界面优化与产品定位广告逻辑调整

### 界面布局优化
- [x] 优化仪表盘页面布局和视觉设计
- [x] 优化绩效组管理页面布局
- [x] 优化广告活动页面布局
- [x] 优化广告自动化页面布局
- [x] 优化竞价日志页面布局
- [x] 优化设置页面布局
- [x] 改进整体导航和用户体验

### 产品定位广告否定词逻辑调整
- [x] 更新数据库Schema区分广告组层级和活动层级否定词
- [x] 修改N-Gram分析逻辑，产品定位广告生成活动层级否定建议
- [x] 修改流量冲突检测逻辑，产品定位广告在活动层级处理
- [x] 更新前端界面显示否定词层级信息
- [x] 添加产品定位广告的特殊处理说明


## 新功能开发（第四阶段）

### 半月纠错复盘功能
- [x] 设计纠错复盘算法（检测归因延迟导致的错误调价）
- [x] 实现后端API接口
- [x] 创建纠错复盘前端页面
- [x] 生成纠错建议报告

### 广告活动健康度监控
- [x] 设计健康度指标体系（ACoS异常、点击率骤降、转化率下降等）
- [x] 实现异常检测算法
- [x] 创建健康度监控仪表盘
- [x] 实现预警通知功能

### 批量操作功能
- [x] 实现批量应用否定词建议
- [x] 实现批量应用出价调整
- [x] 添加批量操作确认和撤销机制
- [x] 优化批量操作的用户体验


## 新功能开发（第五阶段）

### 邮件/消息通知功能
- [x] 实现通知服务模块
- [x] 集成系统内置通知API
- [x] 健康度监控异常自动触发通知
- [x] 创建通知配置界面
- [x] 支持通知阈值设置

### 定时自动优化功能
- [x] 实现定时任务调度系统
- [x] 每日自动运行N-Gram分析
- [x] 每日自动运行智能竞价调整
- [x] 创建定时任务配置界面
- [x] 记录自动优化执行日志


## 新功能开发（第六阶段）

### 批量操作功能
- [x] 设计批量操作数据库表结构（批量任务记录、操作项明细）
- [x] 实现批量应用否定词建议API
- [x] 实现批量应用出价调整API
- [x] 添加批量操作确认机制
- [x] 实现批量操作撤销功能
- [x] 创建批量操作前端界面
- [x] 优化批量操作的用户体验
### 半月纠错复盘系统

- [x] 设计纠错复盘数据库表结构
- [x] 实现归因延迟检测算法
- [x] 实现错误调价识别逻辑
- [x] 生成纠错建议报告
- [x] 创建纠错复盘前端页面
- [x] 支持一键应用纠错建议


## 新功能开发（第七阶段）

### Amazon API多账号管理
- [x] 更新数据库Schema支持多账号存储
- [x] 添加店铺名称自定义字段
- [x] 实现多账号CRUD API
- [x] 支持账号切换功能
- [x] 更新Amazon API设置页面支持多账号管理
- [x] 添加账号列表展示和管理界面
- [x] 实现账号状态监控（连接状态、同步状态）


## 新功能开发（第八阶段）

### 账号全局切换器
- [x] 创建AccountSwitcher组件
- [x] 在DashboardLayout顶部导航栏集成切换器
- [x] 实现账号切换时的数据刷新逻辑
- [x] 添加当前账号状态指示器
- [x] 支持快捷键切换账号

### 跨账号数据汇总报表
- [x] 设计跨账号汇总数据结构
- [x] 实现后端汇总API（总花费、总销售额、平均ACoS等）
- [x] 创建汇总报表前端页面
- [x] 添加账号对比图表
- [x] 支持时间范围筛选

### 账号数据导入/导出
- [x] 实现账号配置导出API（JSON/CSV格式）
- [x] 实现账号配置批量导入API
- [x] 创建导入导出前端界面
- [x] 添加导入数据验证
- [x] 支持导入预览和确认


## 新功能开发（第九阶段）

### 账号权限管理
- [x] 设计团队成员和权限数据库表结构
- [x] 实现团队成员邀请和管理API
- [x] 实现店铺访问权限分配API
- [x] 添加权限验证中间件
- [x] 创建团队成员管理前端页面
- [x] 创建权限分配前端界面
- [x] 支持角色权限（管理员/编辑/只读）

### 数据报表定期邮件推送
- [x] 设计邮件推送配置数据库表结构
- [x] 实现邮件推送服务模块
- [x] 实现跨账号汇总报表生成
- [x] 创建定时邮件推送任务
- [x] 创建邮件推送设置前端页面
- [x] 支持自定义推送频率（每日/每周/每月）
- [x] 支持选择推送的报表类型


## 新功能开发（第十阶段）

### 操作审计日志
- [x] 设计审计日志数据库表结构
- [x] 实现审计日志记录服务
- [x] 在关键操作点集成审计日志
- [x] 实现审计日志查询API
- [x] 创建审计日志前端页面
- [x] 支持按操作类型/用户/时间筛选
- [x] 支持审计日志导出功能

### 团队协作通知
- [x] 设计协作通知配置数据库表结构
- [x] 实现协作通知服务模块
- [x] 定义重要操作触发规则
- [x] 实现通知发送逻辑
- [x] 创建协作通知设置前端页面
- [x] 支持通知渠道配置（应用内/邮件）
- [x] 支持自定义通知规则


## 新功能开发（第十一阶段）

### 广告活动预算智能分配与建议
- [x] 设计预算分配数据库表结构（分配记录、历史表现、目标设置）
- [x] 实现预算分配算法（基于ROAS、ACoS、转化率等指标）
- [x] 实现销售目标设置功能
- [x] 创建预算优化建议API
- [x] 实现预算分配模拟功能（预测效果）
- [x] 创建预算分配前端页面
- [x] 添加预算分配可视化图表
- [x] 支持一键应用预算建议
- [x] 记录预算调整历史


## 新功能开发（第十二阶段）

### Amazon Advertising API真实集成
- [x] 配置Amazon API客户端凭证（Client ID和Client Secret）
- [x] 实现OAuth授权URL生成（支持多地区endpoint）
- [x] 实现OAuth回调处理和Token交换
- [x] 实现Token刷新机制
- [x] 更新前端授权流程界面
- [x] 添加授权状态显示和管理
- [x] 测试完整的OAuth授权流程
