{
  "query": "-- API操作日志表\nCREATE TABLE IF NOT EXISTS `api_operation_logs` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `user_id` int NOT NULL,\n  `account_id` int DEFAULT NULL,\n  `operation_type` enum('bid_adjustment','budget_change','campaign_status','keyword_status','negative_keyword','target_status','batch_operation','api_sync','auto_optimization','manual_operation','other') NOT NULL,\n  `target_type` enum('campaign','ad_group','keyword','product_target','search_term','account','multiple') NOT NULL,\n  `target_id` int DEFAULT NULL,\n  `target_name` varchar(500) DEFAULT NULL,\n  `action_description` text NOT NULL,\n  `previous_value` text DEFAULT NULL,\n  `new_value` text DEFAULT NULL,\n  `change_amount` decimal(10,2) DEFAULT NULL,\n  `change_percent` decimal(5,2) DEFAULT NULL,\n  `affected_count` int DEFAULT 1,\n  `batch_operation_id` int DEFAULT NULL,\n  `status` enum('success','failed','pending','rolled_back') NOT NULL DEFAULT 'success',\n  `error_message` text DEFAULT NULL,\n  `source` enum('manual','auto_optimization','scheduled_task','api_callback','batch_operation') NOT NULL DEFAULT 'manual',\n  `ip_address` varchar(45) DEFAULT NULL,\n  `user_agent` text DEFAULT NULL,\n  `risk_level` enum('low','medium','high','critical') NOT NULL DEFAULT 'low',\n  `requires_review` tinyint DEFAULT 0,\n  `reviewed_by` int DEFAULT NULL,\n  `reviewed_at` timestamp NULL DEFAULT NULL,\n  `executed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_user_id` (`user_id`),\n  KEY `idx_account_id` (`account_id`),\n  KEY `idx_operation_type` (`operation_type`),\n  KEY `idx_executed_at` (`executed_at`),\n  KEY `idx_status` (`status`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user GdNjKxkKZgeVtwE.root --database 5MUJ5aHkiAehb9iTzNdxTq --execute -- API操作日志表\nCREATE TABLE IF NOT EXISTS `api_operation_logs` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `user_id` int NOT NULL,\n  `account_id` int DEFAULT NULL,\n  `operation_type` enum('bid_adjustment','budget_change','campaign_status','keyword_status','negative_keyword','target_status','batch_operation','api_sync','auto_optimization','manual_operation','other') NOT NULL,\n  `target_type` enum('campaign','ad_group','keyword','product_target','search_term','account','multiple') NOT NULL,\n  `target_id` int DEFAULT NULL,\n  `target_name` varchar(500) DEFAULT NULL,\n  `action_description` text NOT NULL,\n  `previous_value` text DEFAULT NULL,\n  `new_value` text DEFAULT NULL,\n  `change_amount` decimal(10,2) DEFAULT NULL,\n  `change_percent` decimal(5,2) DEFAULT NULL,\n  `affected_count` int DEFAULT 1,\n  `batch_operation_id` int DEFAULT NULL,\n  `status` enum('success','failed','pending','rolled_back') NOT NULL DEFAULT 'success',\n  `error_message` text DEFAULT NULL,\n  `source` enum('manual','auto_optimization','scheduled_task','api_callback','batch_operation') NOT NULL DEFAULT 'manual',\n  `ip_address` varchar(45) DEFAULT NULL,\n  `user_agent` text DEFAULT NULL,\n  `risk_level` enum('low','medium','high','critical') NOT NULL DEFAULT 'low',\n  `requires_review` tinyint DEFAULT 0,\n  `reviewed_by` int DEFAULT NULL,\n  `reviewed_at` timestamp NULL DEFAULT NULL,\n  `executed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_user_id` (`user_id`),\n  KEY `idx_account_id` (`account_id`),\n  KEY `idx_operation_type` (`operation_type`),\n  KEY `idx_executed_at` (`executed_at`),\n  KEY `idx_status` (`status`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 219
}