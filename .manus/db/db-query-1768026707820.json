{
  "query": "\nCREATE TABLE IF NOT EXISTS batch_marginal_benefit_analysis (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  account_id INT NOT NULL,\n  user_id INT NOT NULL,\n  analysis_name VARCHAR(255),\n  campaign_ids JSON,\n  campaign_count INT DEFAULT 0,\n  optimization_goal VARCHAR(50),\n  analysis_status ENUM('pending', 'running', 'completed', 'failed') DEFAULT 'pending',\n  total_current_spend DECIMAL(15,2) DEFAULT 0,\n  total_current_sales DECIMAL(15,2) DEFAULT 0,\n  total_expected_spend DECIMAL(15,2) DEFAULT 0,\n  total_expected_sales DECIMAL(15,2) DEFAULT 0,\n  overall_roas_change DECIMAL(10,4) DEFAULT 0,\n  overall_acos_change DECIMAL(10,4) DEFAULT 0,\n  avg_confidence DECIMAL(5,4) DEFAULT 0,\n  analysis_results JSON,\n  recommendations JSON,\n  error_message TEXT,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_account_id (account_id),\n  INDEX idx_user_id (user_id),\n  INDEX idx_status (analysis_status)\n);\n\nCREATE TABLE IF NOT EXISTS marginal_benefit_applications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  account_id INT NOT NULL,\n  campaign_id VARCHAR(255) NOT NULL,\n  user_id INT NOT NULL,\n  optimization_goal VARCHAR(50),\n  application_status ENUM('pending', 'applied', 'failed', 'rolled_back') DEFAULT 'pending',\n  before_top_of_search DECIMAL(10,2) DEFAULT 0,\n  before_product_page DECIMAL(10,2) DEFAULT 0,\n  after_top_of_search DECIMAL(10,2) DEFAULT 0,\n  after_product_page DECIMAL(10,2) DEFAULT 0,\n  expected_sales_change DECIMAL(15,2) DEFAULT 0,\n  expected_spend_change DECIMAL(15,2) DEFAULT 0,\n  expected_roas_change DECIMAL(10,4) DEFAULT 0,\n  expected_acos_change DECIMAL(10,4) DEFAULT 0,\n  actual_sales_change DECIMAL(15,2) DEFAULT NULL,\n  actual_spend_change DECIMAL(15,2) DEFAULT NULL,\n  actual_roas_change DECIMAL(10,4) DEFAULT NULL,\n  actual_acos_change DECIMAL(10,4) DEFAULT NULL,\n  application_note TEXT,\n  error_message TEXT,\n  applied_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_account_id (account_id),\n  INDEX idx_campaign_id (campaign_id),\n  INDEX idx_user_id (user_id),\n  INDEX idx_status (application_status)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user GdNjKxkKZgeVtwE.root --database 5MUJ5aHkiAehb9iTzNdxTq --execute \nCREATE TABLE IF NOT EXISTS batch_marginal_benefit_analysis (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  account_id INT NOT NULL,\n  user_id INT NOT NULL,\n  analysis_name VARCHAR(255),\n  campaign_ids JSON,\n  campaign_count INT DEFAULT 0,\n  optimization_goal VARCHAR(50),\n  analysis_status ENUM('pending', 'running', 'completed', 'failed') DEFAULT 'pending',\n  total_current_spend DECIMAL(15,2) DEFAULT 0,\n  total_current_sales DECIMAL(15,2) DEFAULT 0,\n  total_expected_spend DECIMAL(15,2) DEFAULT 0,\n  total_expected_sales DECIMAL(15,2) DEFAULT 0,\n  overall_roas_change DECIMAL(10,4) DEFAULT 0,\n  overall_acos_change DECIMAL(10,4) DEFAULT 0,\n  avg_confidence DECIMAL(5,4) DEFAULT 0,\n  analysis_results JSON,\n  recommendations JSON,\n  error_message TEXT,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_account_id (account_id),\n  INDEX idx_user_id (user_id),\n  INDEX idx_status (analysis_status)\n);\n\nCREATE TABLE IF NOT EXISTS marginal_benefit_applications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  account_id INT NOT NULL,\n  campaign_id VARCHAR(255) NOT NULL,\n  user_id INT NOT NULL,\n  optimization_goal VARCHAR(50),\n  application_status ENUM('pending', 'applied', 'failed', 'rolled_back') DEFAULT 'pending',\n  before_top_of_search DECIMAL(10,2) DEFAULT 0,\n  before_product_page DECIMAL(10,2) DEFAULT 0,\n  after_top_of_search DECIMAL(10,2) DEFAULT 0,\n  after_product_page DECIMAL(10,2) DEFAULT 0,\n  expected_sales_change DECIMAL(15,2) DEFAULT 0,\n  expected_spend_change DECIMAL(15,2) DEFAULT 0,\n  expected_roas_change DECIMAL(10,4) DEFAULT 0,\n  expected_acos_change DECIMAL(10,4) DEFAULT 0,\n  actual_sales_change DECIMAL(15,2) DEFAULT NULL,\n  actual_spend_change DECIMAL(15,2) DEFAULT NULL,\n  actual_roas_change DECIMAL(10,4) DEFAULT NULL,\n  actual_acos_change DECIMAL(10,4) DEFAULT NULL,\n  application_note TEXT,\n  error_message TEXT,\n  applied_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_account_id (account_id),\n  INDEX idx_campaign_id (campaign_id),\n  INDEX idx_user_id (user_id),\n  INDEX idx_status (application_status)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 444
}