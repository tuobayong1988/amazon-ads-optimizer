# Amazon Advertising API 报告时间范围研究

## Report API v3 时间范围限制

根据Amazon Advertising API文档，Report API v3的时间范围限制如下：

### Campaign Reports（广告活动报告）
- **最大日期范围**: 31天（单次请求）
- **数据保留期**: 
  - SP (Sponsored Products): 95天
  - SB (Sponsored Brands): 60天
  - SD (Sponsored Display): 65天

### Targeting Reports（定向报告）
- **最大日期范围**: 31天（单次请求）
- **数据保留期**: 
  - SP: 95天
  - SB: 60天
  - SD: 65天

### Advertised Product Reports（广告商品报告）
- **最大日期范围**: 31天（单次请求）
- **数据保留期**: 
  - SP: 95天
  - SD: 65天

### Search Term Reports（搜索词报告）
- **最大日期范围**: 31天（单次请求）
- **数据保留期**: 60天

## 同步策略

为了获取最完整的历史数据，我们需要：

1. **SP广告**: 可以获取最近95天的数据
2. **SB广告**: 可以获取最近60天的数据
3. **SD广告**: 可以获取最近65天的数据

由于单次请求最大只能获取31天数据，需要分多次请求：
- 95天数据需要4次请求（0-31, 31-62, 62-93, 93-95）
- 60天数据需要2次请求（0-31, 31-60）
- 65天数据需要3次请求（0-31, 31-62, 62-65）

## 实施计划

1. 修改syncPerformanceData方法，支持分段请求
2. 根据广告类型设置不同的回溯天数
3. 合并多次请求的结果
4. 更新数据库中的绩效数据
