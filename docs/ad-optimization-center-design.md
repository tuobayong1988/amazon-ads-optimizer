# 广告优化中心界面设计文档

## 设计概述

广告优化中心是一个整合了广告活动管理、投放词优化和AI智能分析的统一工作台。其核心设计理念是让运营人员在同一个界面内完成"发现问题→分析原因→执行优化"的完整工作流程，无需在多个页面之间切换。

---

## 界面结构

### 整体布局

广告优化中心采用三层结构设计：

| 层级 | 位置 | 功能 |
|------|------|------|
| 顶部工具栏 | 页面顶部固定 | 全局筛选、搜索、AI分析入口、批量操作 |
| 主内容区 | 页面中部 | 广告活动列表（可展开投放词）、Tab切换搜索词 |
| AI建议面板 | 页面底部常驻 | AI优化建议摘要、一键执行入口 |

### 视觉参考

![主界面](./wireframes/ad-optimization-center-main.png)

---

## 核心组件设计

### 1. 顶部工具栏

顶部工具栏提供全局操作入口，从左到右依次为：

| 组件 | 说明 |
|------|------|
| 账号选择器 | 下拉选择当前操作的广告账号 |
| 时间范围选择器 | 选择数据统计的时间范围（今天/7天/14天/30天/自定义） |
| 搜索框 | 快速搜索广告活动、投放词、搜索词 |
| 筛选器按钮 | 展开高级筛选面板 |
| AI智能分析按钮 | 触发AI分析，生成优化建议 |
| 批量操作下拉 | 对选中项执行批量操作 |

### 2. 广告活动列表（可展开）

广告活动列表是主内容区的核心组件，支持点击展开查看内嵌的投放词列表。

**列表列定义：**

| 列名 | 宽度 | 说明 |
|------|------|------|
| 复选框 | 40px | 用于批量选择 |
| 展开箭头 | 30px | 点击展开/折叠投放词列表 |
| 广告活动名称 | 自适应 | 活动名称，可点击进入详情 |
| 活动类型 | 120px | SP手动/SP自动/SB/SD |
| 日预算 | 100px | 每日预算金额 |
| 花费 | 100px | 选定时间范围内的总花费 |
| 销售额 | 100px | 选定时间范围内的总销售额 |
| ACoS | 80px | 广告成本销售比 |
| 状态 | 80px | 正常/预警/暂停 |
| 操作 | 60px | 更多操作菜单 |

**展开后的投放词列表：**

当点击广告活动行的展开箭头时，会在该行下方展开一个内嵌的投放词表格，背景色略浅以区分层级。

| 列名 | 说明 |
|------|------|
| 投放词 | 关键词文本，可点击查看趋势图 |
| 匹配方式 | 广泛/短语/精准 徽章 |
| 出价 | 当前竞价 |
| CPC | 实际每次点击成本 |
| 点击 | 点击次数 |
| 花费 | 总花费 |
| 销售额 | 总销售额 |
| ACoS | 广告成本销售比 |
| CVR | 转化率 |
| 快捷操作 | 暂停/调价/添加否定词 按钮 |

### 3. 搜索词分析Tab

在投放词列表上方提供Tab切换，可切换到搜索词分析视图。

![搜索词分析](./wireframes/ad-optimization-center-search-terms.png)

**快捷筛选预设：**

| 预设名称 | 筛选条件 |
|----------|----------|
| 全部 | 无筛选 |
| 高花费0转化 | 花费>$10 且 订单=0 |
| ACoS>50% | ACoS超过50% |
| 高价值词 | 订单>3 且 ACoS<30% |
| 高转化率 | CVR>10% |

**搜索词操作：**

| 操作 | 说明 |
|------|------|
| 词组否定 | 将搜索词添加为词组否定关键词 |
| 精准否定 | 将搜索词添加为精准否定关键词 |
| 迁移 | 将高价值搜索词迁移到指定广告组 |

### 4. AI优化建议面板

AI优化建议面板常驻在页面底部，默认折叠显示摘要信息，点击可展开查看详细建议。

![AI优化建议详情](./wireframes/ad-optimization-center-ai-panel.png)

**折叠状态显示：**
- AI发现的优化机会数量
- 主要问题类型摘要（如：3个高花费0转化词、5个高价值搜索词待迁移）
- "查看详情并执行"按钮

**展开状态显示：**

| 区域 | 内容 |
|------|------|
| 左侧建议列表 | 分类展示所有优化建议，每条建议可单独执行或勾选批量执行 |
| 右侧效果预测 | 展示执行选中建议后7天/14天/30天的预测效果变化 |
| 底部操作栏 | 全选、批量执行、定时执行、导出报告 |

**建议分类：**

| 分类 | 说明 |
|------|------|
| 高花费0转化投放词 | 建议暂停或降低出价 |
| 高价值搜索词 | 建议迁移到精准匹配 |
| ACoS超标广告活动 | 建议调整出价策略 |
| 低效搜索词 | 建议添加为否定词 |

### 5. 投放词历史趋势侧边面板

点击投放词名称时，从右侧滑出历史趋势分析面板。

![历史趋势面板](./wireframes/ad-optimization-center-trend-panel.png)

**面板内容：**

| 区域 | 内容 |
|------|------|
| 顶部 | 投放词名称、时间范围选择（7D/14D/30D/60D） |
| 汇总卡片 | 总点击、总花费、平均ACoS、平均CVR及环比变化 |
| 流量趋势图 | 点击数和花费的双轴折线图 |
| 效率趋势图 | ACoS和ROAS的双轴折线图，含目标线 |
| 转化趋势图 | CVR和CTR的折线图 |
| 快捷操作 | 调整出价、暂停、查看活动、导出数据 |

---

## 交互流程

### 流程1：发现并处理低效投放词

```
1. 用户打开广告优化中心
2. 查看底部AI建议面板，发现"3个高花费0转化投放词"
3. 点击展开AI建议详情
4. 查看右侧效果预测，确认执行后的预期改善
5. 勾选要处理的投放词
6. 点击"执行选中"按钮
7. 系统自动执行暂停/降价操作
8. 记录执行日志，等待后续复盘
```

### 流程2：分析单个投放词表现

```
1. 在广告活动列表中展开目标活动
2. 在投放词列表中点击目标投放词名称
3. 右侧滑出历史趋势面板
4. 切换时间范围查看不同周期的表现
5. 根据趋势判断是否需要调整
6. 在面板底部直接执行调价/暂停操作
```

### 流程3：批量处理搜索词

```
1. 切换到"搜索词"Tab
2. 点击"高花费0转化"快捷筛选
3. 查看筛选结果
4. 勾选需要否定的搜索词
5. 点击底部"批量否定(精准)"按钮
6. 确认执行
```

---

## 技术实现要点

### 状态管理

| 状态 | 说明 |
|------|------|
| expandedCampaigns | 记录当前展开的广告活动ID列表 |
| selectedTargets | 记录当前选中的投放词ID列表 |
| selectedSearchTerms | 记录当前选中的搜索词ID列表 |
| activeTab | 当前激活的Tab（投放词/搜索词） |
| trendPanelTarget | 当前查看趋势的投放词信息 |
| aiPanelExpanded | AI建议面板是否展开 |
| aiRecommendations | AI分析结果数据 |

### 数据加载策略

| 数据 | 加载时机 |
|------|----------|
| 广告活动列表 | 页面加载时 |
| 投放词列表 | 展开广告活动时懒加载 |
| 搜索词列表 | 切换到搜索词Tab时加载 |
| 历史趋势数据 | 打开趋势面板时加载 |
| AI分析结果 | 点击AI分析按钮时加载 |

### 性能优化

| 优化项 | 方案 |
|--------|------|
| 大数据量列表 | 使用虚拟滚动 |
| 频繁切换Tab | 缓存已加载的数据 |
| 趋势图渲染 | 使用Recharts的懒加载 |
| 批量操作 | 使用乐观更新提升响应速度 |

---

## 与现有系统的对比

| 维度 | 现有系统 | 广告优化中心 |
|------|----------|--------------|
| 查看投放词 | 需进入广告活动详情页 | 直接展开查看 |
| 查看搜索词 | 需进入广告活动详情页的Tab | 同一页面Tab切换 |
| AI分析 | 隐藏在详情页底部 | 常驻显示在底部 |
| 执行优化 | 需多次确认和页面跳转 | 一键执行 |
| 查看趋势 | 需打开弹窗 | 侧边面板滑出 |
| 批量操作 | 需先进入批量操作页面 | 顶部工具栏直接操作 |

---

## 实施建议

### 第一阶段（1周）
- 实现广告活动列表的展开/折叠功能
- 实现投放词内嵌列表

### 第二阶段（1周）
- 实现AI建议常驻面板
- 实现一键执行功能

### 第三阶段（3天）
- 实现搜索词Tab切换
- 优化整体交互体验

